{#
  Login page
  - Extends `base.html` so it inherits the consolidated CSS and header/nav.
  - Keeps only the page-specific content inside the `content` block.
#}

{% extends 'base.html' %}

{% block title %}Login{% endblock %}

{% block content %}
  <!-- Login form: posts to the auth service -->
  <form action="/login" method="POST" aria-label="Login form">
    <div class="imgcontainer">
      <h2>Hello, please login below.</h2>
  <!-- Avatar served from static files (SVG) -->
  <img src="{{ url_for('static', filename='img_avatar2.svg') }}" alt="avatar" class="avatar">
    </div>

    <div class="container">
      {# Show flashed messages from the server #}
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}" role="alert">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <div class="form-group">
        <label for="username"><b>Username</b></label>
        <input id="username" name="username" type="text" placeholder="Enter Username" value="{{ username|default('')|e }}" required>
      </div>

      <div class="form-group">
        <label for="password"><b>Password</b></label>
        <input id="password" name="password" type="password" placeholder="Enter Password" required>
      </div>

      <div class="but-row">
        <button type="submit">Login</button>
        <button type="button" class="cancelbtn" onclick="window.location.replace('/')">Cancel</button>
      </div>
    </div>
  </form>
{% endblock %}
